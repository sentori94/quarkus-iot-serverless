# Application Configuration
quarkus.application.name=quarkus-iot-lambda
quarkus.application.version=1.0.0

# AWS Lambda Configuration
quarkus.lambda.handler=io.quarkus.amazon.lambda.runtime.QuarkusStreamHandler

# AWS Configuration
quarkus.dynamodb.endpoint-override=
quarkus.dynamodb.aws.region=us-east-1
quarkus.dynamodb.aws.credentials.type=default

# DynamoDB Table Names
dynamodb.sensor-data.table-name=SensorData
dynamodb.runs.table-name=Runs

# Run Configuration
app.run.max-concurrent=5

# Grafana Configuration (Ã  adapter selon votre setup)
app.grafana.base-url=http://localhost:3000
app.grafana.dashboard-path=/d/iot-dashboard
app.grafana.org-id=1
app.grafana.ds-prom-uid=prometheus
app.grafana.timezone=browser
app.grafana.default-from=now-15m
app.grafana.default-to=now
app.grafana.default-refresh=5s

# Jackson Configuration
quarkus.jackson.write-dates-as-timestamps=false
quarkus.jackson.fail-on-unknown-properties=false

# CORS Configuration
quarkus.http.cors=true
quarkus.http.cors.origins=*
quarkus.http.cors.methods=GET,POST,PUT,DELETE,OPTIONS
quarkus.http.cors.headers=accept,authorization,content-type,x-requested-with,x-user
quarkus.http.cors.exposed-headers=Content-Disposition

# Logging Configuration
quarkus.log.level=INFO
quarkus.log.category."com.sentori.iot.lambda".level=DEBUG
quarkus.log.console.format=%d{HH:mm:ss} %-5p [%c{2.}] (%t) %s%e%n
quarkus.log.console.json=false

# Native Build Configuration
quarkus.native.additional-build-args=--initialize-at-run-time=org.apache.http.impl.auth.NTLMEngineImpl

# Health Check
quarkus.health.extensions.enabled=true
quarkus.smallrye-health.root-path=/health

# OpenAPI/Swagger
quarkus.swagger-ui.always-include=true
quarkus.swagger-ui.path=/swagger-ui
mp.openapi.extensions.smallrye.info.title=Quarkus IoT Lambda API
mp.openapi.extensions.smallrye.info.version=1.0.0
mp.openapi.extensions.smallrye.info.description=Migration de Spring Boot ECS vers Quarkus Lambda - 100% Serverless

# Lambda-specific settings
quarkus.lambda.enable-polling-jvm-mode=true

# Micrometer/Prometheus
quarkus.micrometer.enabled=true
quarkus.micrometer.export.prometheus.enabled=true
quarkus.micrometer.binder.http-server.enabled=true
quarkus.micrometer.binder.http-client.enabled=true

# Dev Services (disabled in production)
%dev.quarkus.dynamodb.endpoint-override=http://localhost:8000
%test.quarkus.dynamodb.endpoint-override=http://localhost:8000
%dev.app.grafana.base-url=http://localhost:3000
%test.app.grafana.base-url=http://localhost:3000
